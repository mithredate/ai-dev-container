# Claude Bridge Configuration for claude-sidecar
# =================================================
# This configuration routes Go commands to the golang sidecar container,
# allowing Claude to run go build, go test, go vet, etc.
#
# Usage: bridge go build ./cmd/bridge
#        bridge go test ./...
#        bridge go vet ./...

version: "1"

# Container name mappings
# Maps logical names to actual container names from compose.yaml
containers:
  golang: claude-sidecar-golang

# Command mappings for Go development
commands:
  # Go compiler and toolchain
  go:
    container: golang
    exec: go
    workdir: /workspace

  # Gofmt for code formatting
  gofmt:
    container: golang
    exec: gofmt
    workdir: /workspace

  # Golint/staticcheck (if installed in container)
  golangci-lint:
    container: golang
    exec: golangci-lint
    workdir: /workspace

# Native overrides - run locally instead of routing to sidecar
# Claude CLI should always run locally (recursive routing would be bad!)
overrides:
  claude:
    native: /usr/local/bin/claude
