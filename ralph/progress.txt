# Ralph Progress Log
Started: Wed Jan 21 14:07:23 CET 2026

## Codebase Patterns
- This is a Go project with Docker containerization for Claude Code
- Quality checks: `go vet ./...` and `go build ./...`
- Shell scripts in `/scripts/` use POSIX sh (dash compatible), not bash
- The entrypoint uses `exec` to replace the shell process with the target command

---

## 2026-01-21 13:10 UTC - US-009
- **What was implemented**: Persistent container entrypoint that keeps container alive with `tail -f /dev/null`
- **Files changed**: `scripts/entrypoint.sh`
- **Implementation details**:
  - Changed default behavior: container now stays alive when no command provided
  - Added `run_claude()` function for Claude CLI execution
  - Added logic to detect `claude` as first argument and run Claude
  - Any other command is executed directly via `exec "$@"`
  - Default (no args) runs `tail -f /dev/null` to keep container alive
- **Learnings for future iterations**:
  - The entrypoint uses `CLAUDE_STARTING=1` env var for the node wrapper
  - `CLAUDE_YOLO=1` enables `--dangerously-skip-permissions` mode
  - Container workflow: `docker compose up -d` then `docker compose exec claude claude`
---

## 2026-01-21 14:30 UTC - US-010
- **What was implemented**: Added firewall dependency packages to the Alpine container image
- **Files changed**: `Dockerfile`
- **Implementation details**:
  - Added `iptables` package for firewall rules
  - Added `ipset` package for efficient IP set matching
  - Added `iproute2` package for `ip` command
  - Added `bind-tools` package for `dig` DNS resolution command
  - Added `curl` for fetching GitHub IP ranges from API
  - Added `jq` for parsing JSON responses
  - Reorganized apk command with one package per line for readability
  - Added documentation comments explaining each package's purpose
- **Learnings for future iterations**:
  - Alpine packages needed for firewall: iptables, ipset, iproute2, bind-tools, curl, jq
  - Docker build may not work in sandboxed environments due to network restrictions
  - Quality checks (go vet/build) still work even when Docker is restricted
---
